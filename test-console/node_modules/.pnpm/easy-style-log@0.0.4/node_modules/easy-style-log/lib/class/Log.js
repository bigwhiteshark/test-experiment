"use strict";var w=Object.defineProperty;var j=(i,t,e)=>t in i?w(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var o=(i,t,e)=>(j(i,typeof t!="symbol"?t+"":t,e),e),F=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var l=(i,t,e)=>(F(i,t,"read from private field"),e?e.call(i):t.get(i)),g=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},c=(i,t,e,a)=>(F(i,t,"write to private field"),a?a.call(i,e):t.set(i,e),e);var y=(i,t,e)=>(F(i,t,"access private method"),e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const B=require("../utils/colorToAnsi.js"),q=require("../utils/logLocation.js"),$=typeof window!="object";var u,n,f,b,m,x,C,p;const s=class{constructor(){g(this,m);g(this,C);g(this,u,[""]);g(this,n,[""]);g(this,f,[""]);g(this,b,[""]);o(this,"log",(...t)=>{const e=y(this,C,p).call(this);return s.isDebug&&!$?console.trace(...e,...t):console.log(...e,...t)});o(this,"debug",(...t)=>{const e=y(this,C,p).call(this,!0);return $?console.log(...e,...t):console.trace(...e,...t)});return s.instance||(y(this,m,x).call(this),s.instance=this),s.instance}bg(...t){return c(this,u,t),this}color(...t){return c(this,n,t),this}title(...t){return c(this,f,t),this}style(...t){return c(this,b,t),this}setDefaultStyle(t){s.defaultBg=t.defaultBg||["#D7F7C2"],s.defaultColor=t.defaultColor||["#05690D"],s.defaultTitle=t.defaultTitle||["easy-style-log"],s.defaultStyle=t.defaultStyle||[""],s.isDebug=t.isDebug||!1,s.nodeDebugBg=t.nodeDebugBg||"",s.nodeDebugColor=t.nodeDebugColor||"blue",y(this,m,x).call(this)}};let r=s;u=new WeakMap,n=new WeakMap,f=new WeakMap,b=new WeakMap,m=new WeakSet,x=function(){c(this,u,[...s.defaultBg]),c(this,n,[...s.defaultColor]),c(this,f,[...s.defaultTitle]),c(this,b,[...s.defaultStyle])},C=new WeakSet,p=function(t=!1){let e=[];if($){let a="";if(s.isDebug||t){const D=s.nodeDebugBg?B(s.nodeDebugBg,!0):"",h=s.nodeDebugColor?B(s.nodeDebugColor)+"":"";a=`\x1B[${D}${h&&D?";":""}${h}m${q()}\x1B[49;39m`}e[0]=l(this,f).reduce((D,h,d)=>{const S=l(this,u)[d]?B(l(this,u)[d],!0):l(this,u)[0]?B(l(this,u)[0],!0):"",T=l(this,n)[d]?B(l(this,n)[d]):l(this,n)[0]?B(l(this,n)[0]):"";return D+`\x1B[${S}${T&&S?";":""}${T}m${h}\x1B[49;39m`},a)}else{let a="";e=l(this,f).map((D,h)=>{a+=`%c ${D} `;const d=l(this,u)[h]||l(this,u)[0],S=l(this,n)[h]||l(this,n)[0],T=l(this,b)[h]||l(this,b)[0];return`background: ${d};color: ${S}; padding: 3px 6px;margin:2px 0; border-radius: 2px; font-size: 14px;  font-weight: 600;`+T}),e.unshift(a)}return y(this,m,x).call(this),e},o(r,"defaultBg",$?[""]:["linear-gradient(to right, #12c2e9, #c471ed, #f64f59)"]),o(r,"defaultColor",$?[""]:["#FFFFFF"]),o(r,"defaultTitle",["EASY-STYLE-LOG"]),o(r,"defaultStyle",[""]),o(r,"isDebug",!1),o(r,"nodeDebugBg",""),o(r,"nodeDebugColor","blue"),o(r,"instance");exports.Log=r;
