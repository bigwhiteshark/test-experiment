<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <canvas id="tutorial" width="500" height="400"></canvas>
    <canvas id="tutorial2" width="500" height="400"></canvas>
</body>
<script>

    //绘制矩形
    /*·1、fillRect(x, y, width, height)：绘制一个填充的矩形。
    2、strokeRect(x, y, width, height)：绘制一个矩形的边框。
    3、clearRect(x, y, widh, height)：清除指定的矩形区域，然后这块区域会变的完全透明。*/
    /*  function draw() {
         var canvas = document.getElementById('tutorial');
         if (!canvas.getContext) return;
         var ctx = canvas.getContext("2d");
         ctx.fillRect(10, 10, 100, 50);  //绘制矩形,填充的默认颜色为黑色
         ctx.strokeRect(10, 70, 100, 50);  //绘制矩形边框
         ctx.clearRect(15, 15, 50, 25);
     } */


    //绘制线段
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath(); //新建一条path
        ctx.moveTo(50, 50); //把画笔移动到指定的坐标
        ctx.lineTo(200, 50);  //绘制一条从当前位置到指定坐标(200, 50)的直线.
        //闭合路径。会拉一条从当前点到path起始点的直线。如果当前点与起始点重合，则什么都不做
        ctx.closePath();
        ctx.stroke(); //绘制路径。
    } */

    //绘制三角形边框
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.moveTo(50, 50);
        ctx.lineTo(200, 50);
        ctx.lineTo(200, 200);
        //ctx.closePath(); //虽然我们只绘制了两条线段，但是closePath会closePath，仍然是一个3角形
        ctx.stroke(); //描边。stroke不会自动closePath()
        ctx.fill()
    } */


    /**
     *
     * 1、arc(x, y, r, startAngle, endAngle, anticlockwise): 以(x, y) 为圆心，以r 为半径，从 startAngle 弧度开始到endAngle弧度结束。anticlosewise 是布尔值，true 表示逆时针，false 表示顺时针(默认是顺时针)。
     *
     * 2、arcTo(x1, y1, x2, y2, radius): 根据给定的控制点和半径画一段圆弧，最后再以直线连接两个控制点。
     */
    //圆弧案例 1
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.arc(50, 50, 40, 0, Math.PI / 2, false);
        ctx.stroke();
    } */

    //圆弧案例 2
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.arc(50, 50, 40, 0, Math.PI / 2, false);
        ctx.stroke();

        ctx.beginPath();
        ctx.arc(150, 50, 40, 0, -Math.PI / 2, true);
        //ctx.closePath();
        ctx.stroke();
        //ctx.fill()

        ctx.beginPath();
        ctx.arc(50, 150, 40, -Math.PI / 2, Math.PI / 2, false);
        ctx.fill();

        ctx.beginPath();
        ctx.arc(150, 150, 40, 0, Math.PI, false);
        ctx.fill();

    } */

    //圆弧案例 3
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.moveTo(50, 50);
        //参数1、2：控制点1坐标   参数3、4：控制点2坐标  参数4：圆弧半径
        ctx.arcTo(200, 50, 200, 200, 100);
        ctx.lineTo(200, 200)
        ctx.stroke();

        ctx.beginPath();
        ctx.rect(50, 50, 10, 10);
        ctx.rect(200, 50, 10, 10)
        ctx.rect(200, 200, 10, 10)
        ctx.fill()
    } */

    /** 绘制二次贝塞尔曲线:quadraticCurveTo(cp1x, cp1y, x, y)
     * 
     *  参数 1 和 2：控制点坐标 参数 3 和 4：结束点坐标
     * 
     */
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.moveTo(10, 200); //起始点
        var cp1x = 40, cp1y = 100;  //控制点
        var x = 200, y = 200; // 结束点
        //绘制二次贝塞尔曲线
        ctx.quadraticCurveTo(cp1x, cp1y, x, y);
        ctx.stroke();

        ctx.beginPath();
        ctx.rect(10, 200, 10, 10);
        ctx.rect(cp1x, cp1y, 10, 10);
        ctx.rect(x, y, 10, 10);
        ctx.fill();

    } */

    /* 绘制三次贝塞尔曲线:

    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)
    说明：

      参数 1 和 2：控制点 1 的坐标
      参数 3 和 4：控制点 2 的坐标
      参数 5 和 6：结束点的坐标 */
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.moveTo(40, 200); //起始点
        var cp1x = 20, cp1y = 100;  //控制点1
        var cp2x = 100, cp2y = 120;  //控制点2
        var x = 200, y = 200; // 结束点
        //绘制二次贝塞尔曲线
        ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);
        ctx.stroke();

        ctx.beginPath();
        ctx.rect(40, 200, 10, 10);
        ctx.rect(cp1x, cp1y, 10, 10);
        ctx.rect(cp2x, cp2y, 10, 10);
        ctx.rect(x, y, 10, 10);
        ctx.fill();

    }
 */

    //fillStyle
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        for (var i = 0; i < 6; i++) {
            for (var j = 0; j < 6; j++) {
                ctx.fillStyle = 'rgb(' + Math.floor(255 - 42.5 * i) + ',' +
                    Math.floor(255 - 42.5 * j) + ',0)';
                ctx.fillRect(j * 50, i * 50, 50, 50);
            }
        }
    } */

    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        for (var i = 0; i < 6; i++) {
            for (var j = 0; j < 6; j++) {
                ctx.strokeStyle = `rgb(${randomInt(0, 255)},${randomInt(0, 255)},${randomInt(0, 255)})`;
                ctx.strokeRect(j * 50, i * 50, 40, 40);
            }
        }
    }
    function randomInt(from, to) {
        return parseInt(Math.random() * (to - from + 1) + from);
    } */


    //line style
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.moveTo(10, 10);
        ctx.lineTo(100, 10);
        ctx.lineWidth = 10;
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(110, 10);
        ctx.lineTo(160, 10)
        ctx.lineWidth = 20;
        ctx.stroke()
    } */

    //lineCap = type
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");

        var lineCaps = ["butt", "round", "square"];

        for (var i = 0; i < 3; i++) {
            ctx.beginPath();
            ctx.moveTo(20 + 30 * i, 30);
            ctx.lineTo(20 + 30 * i, 100);
            ctx.lineWidth = 20;
            ctx.lineCap = lineCaps[i];
            ctx.stroke();
        }

        ctx.beginPath();
        ctx.moveTo(0, 30);
        ctx.lineTo(300, 30);

        ctx.moveTo(0, 100);
        ctx.lineTo(300, 100)

        ctx.strokeStyle = "red";
        ctx.lineWidth = 1;
        ctx.stroke();
    } */

    //3. lineJoin = type
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");

        var lineJoin = ['round', 'bevel', 'miter'];
        ctx.lineWidth = 20;

        for (var i = 0; i < lineJoin.length; i++) {
            ctx.lineJoin = lineJoin[i];
            ctx.beginPath();
            ctx.moveTo(50, 50 + i * 50);
            ctx.lineTo(100, 100 + i * 50);
            ctx.lineTo(150, 50 + i * 50);
            ctx.lineTo(200, 100 + i * 50);
            ctx.lineTo(250, 50 + i * 50);
            ctx.stroke();
        }
    } */

    // 虚线
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");

        ctx.setLineDash([10, 5]);  // [实线长度, 间隙长度]
        ctx.lineDashOffset = 0;
        ctx.strokeRect(50, 50, 210, 210);
    } */

    //文本
    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");
        ctx.font = "100px sans-serif"
        ctx.fillText("天若有情", 10, 100);
        ctx.strokeText("天若有情", 10, 200)
    } */

    /*  function draw() {
         var canvas = document.getElementById('tutorial');
         if (!canvas.getContext) return;
         var ctx = canvas.getContext("2d");
         var img = new Image();   // 创建img元素
         img.onload = function () {
             //ctx.drawImage(img, 0, 0)
             //ctx.drawImage(img, 0, 0, 200, 200)
             ctx.drawImage(img, 0, 0, 600, 600, 0, 0, 300, 300)
         }
         img.src = 'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png'; // 设置图片源地址
     } */

    /* function draw() {
        var canvas = document.getElementById('tutorial');
        if (!canvas.getContext) return;
        var ctx = canvas.getContext("2d");

        ctx.fillRect(0, 0, 150, 150);   // 使用默认设置绘制一个矩形
        ctx.save();                  // 保存默认状态

        ctx.fillStyle = 'red'       // 在原有配置基础上对颜色做改变
        ctx.fillRect(15, 15, 120, 120); // 使用新的设置绘制一个矩形

        ctx.save();                  // 保存当前状态
        ctx.fillStyle = '#FFF'       // 再次改变颜色配置
        ctx.fillRect(30, 30, 90, 90);   // 使用新的配置绘制一个矩形

        ctx.restore();               // 重新加载之前的颜色状态
        ctx.fillRect(45, 45, 60, 60);   // 使用上一次的配置绘制一个矩形

        ctx.restore();               // 加载默认颜色配置
        ctx.fillRect(60, 60, 30, 30);   // 使用加载的配置绘制一个矩形
    } */

    function draw() {
        const canvas = document.getElementById('tutorial')
        if (!canvas.getContext) return
        const ctx = canvas.getContext('2d')

        const img = new Image();
        img.onload = function () {
            console.log(img.width, img.height)
            //ctx.drawImage(img, 0, 0, 300, 150)
            //ctx.drawImage(img, 0, 0, 500, 250)
            ctx.drawImage(img, 0, 0, 500, 250, 0, 0, 300, 150)
        }
        img.src = 'https://www.canvasapi.cn/assets/images/examples/500/1.jpg'
    }
    function draw2() {
        const canvas = document.getElementById('tutorial2')
        if (!canvas.getContext) return
        const ctx = canvas.getContext('2d')

        const img = new Image();
        img.onload = function () {
            console.log(img.width, img.height)
            //ctx.drawImage(img, 0, 0, 300, 150)
            ctx.drawImage(img, 0, 42, 500, 250, 0, 0, 300, 150)
        }
        img.src = 'https://www.canvasapi.cn/assets/images/examples/500/1.jpg'
    }


    draw();
    draw2()
</script>

</html>